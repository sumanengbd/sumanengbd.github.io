/* @preserve
===========================================================================
  Je Suis    :  PolySlider
  Wtf?       :  A fully multi-effect slider
  Author     :  http://arnique.net
  Version    :  Beta. Check my site for updates.
  License    :  Free for personal & commercial use but attribution required
  What else? :  You cannot remove this text block!
============================================================================
*/
function formatStr(){for(var e=arguments[0],t=0;t<arguments.length-1;t++){var a=new RegExp("\\{"+t+"\\}","gm");e=e.replace(a,arguments[t+1])}return e}function stringHas(e,t){return-1!=e.indexOf(t)}function toJsonFormat(e){return e=e.replace(/,\s?([a-zA-Z0-9]+?):/g,',"$1":'),e=e.replace(/{\s?([a-zA-Z0-9]+?):/g,'{"$1":'),e=e.replace(/:(?!true|false)([a-zA-Z]+)/g,':"$1"'),e=e.replace(/'/g,'"')}function jsonify(e){var t=toJsonFormat(e);return jQuery.parseJSON(t)}function cycleForward(e,t){var a=e+1;return a=a>=t?0:a}function cycleBack(e,t){var a=e-1;return a=0>a?t-1:a}function isEven(e){return e%2==0}function makeEven(e){var t=Math.ceil(e/2);return 2*t}function arrayMove(e,t,a){var o=e[t];e.splice(t,1),e.splice(a,0,o)}function coverImage(e,t,a,o){var n={};n.boxW=a,n.boxH=o;var s=e/t,i=a/o;return s==i?(n.w=Math.ceil(a),n.h=Math.ceil(o),n.relW="100%",n.relH="100%",n.cW=n.w,n.cH=n.h,n.cVal=0,n):(s>i&&(n.h=o,n.w=Math.ceil(o*e/t),n.h=Math.ceil(n.h),n.relW="auto",n.relH="100%",n.eW=n.w-a,isEven(n.eW)||(n.eW=makeEven(n.eW)),n.cW=a+n.eW,n.cVal=n.eW/2,n.cH=n.h),i>s&&(n.w=a,n.h=Math.ceil(a*t/e),n.w=Math.ceil(n.w),n.relW="100%",n.relH="auto",n.cW=n.w,n.cVal=0,n.cH=n.h),n)}function getScreenOptions(e,t,a){function o(){for(var e=i;e<t.length;++e){var o=t[e],n=o.screen.split("-"),r=parseInt(n[0]),d="max"==n[1]?1e4:parseInt(n[1]);a>=r&&d>=a&&(s=jQuery.extend({},s,o))}}function n(){for(var e=i;e<t.length;++e){var o=t[e],n=t[e+1],r=o.screen;if(n){var d=n.screen;if(a>=r&&d>a){s=jQuery.extend({},s,o);break}}else if(a>=r){s=jQuery.extend({},s,o);break}}}var s=e,i=0;t.sort(function(e,t){return e.screen-t.screen});for(var r=0;r<t.length;++r)"all"==t[r].screen&&arrayMove(t,r,0);if(t){if("all"==t[0].screen&&(s=jQuery.extend({},e,t[0]),i=1,1==t.length))return s;t.length>0&&(stringHas(t[i].screen,"-")?o():n())}return s}function getBrowser(e){var t,a=e||navigator.userAgent,o=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+.?\d*)/i)||[];return/trident/i.test(o[1])?(t=/\brv[ :]+(\d+.?\d*)/g.exec(a)||[],{name:"IE",version:t[1]||""}):"Chrome"===o[1]&&(t=a.match(/\bOPR\/(\d+.?\d*)/),null!=t)?{name:"Opera",version:t[1]}:(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=a.match(/version\/(\d+.?\d*)/i))&&o.splice(1,1,t[1]),{name:o[0],version:o[1]})}function dateDiff(e,t){var a={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3},o=e-t,n={};return n.w=o/a.w,n.d=o/a.d,n.h=o/a.h,n.m=o/a.m,n.s=o/a.s,n.ms=o,n}function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})}function getUrlParams(e){for(var t,a=e.split("?")[1],o=/([^&=]+)=?([^&]*)/g,n={};t=o.exec(a);)n[t[1]]=t[2];return n}var effect={},sliceSort={},jqAnim={};jqAnim.fadeIn=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).hide().fadeIn(a),e.fadeOut(a)},jqAnim.slideLeft=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({left:"100%"}).animate({left:0},a),e.animate({left:"-100%"},a)},jqAnim.slideOverLeft=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({left:"100%"}).animate({left:0},a)},jqAnim.slideRight=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({left:"-100%"}).animate({left:0},a),e.animate({left:"100%"},a)},jqAnim.slideOverRight=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({left:"-100%"}).animate({left:0},a)},jqAnim.slideTop=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({top:"100%"}).animate({top:0},a),e.animate({top:"-100%"},a)},jqAnim.slideOverTop=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({top:"100%"}).animate({top:0},a)},jqAnim.slideBottom=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({top:"-100%"}).animate({top:0},a),e.animate({top:"100%"},a)},jqAnim.slideOverBottom=function(e,t,a,o){t.removeClass(o.inactive).addClass(o.incoming).css({top:"-100%"}).animate({top:0},a)},effect.jqSlideX={type:"jq",forwardIn:"slideLeft",forwardOut:"slideLeft",backIn:"slideRight",backOut:"slideRight",addClass:"",reslideClass:"",speed:600},effect.jqSlideY={type:"jq",forwardIn:"slideBottom",forwardOut:"slideBottom",backIn:"slideTop",backOut:"slideTop",addClass:"",reslideClass:"",speed:600},effect.jqSlideOverX={type:"jq",forwardIn:"slideOverLeft",forwardOut:"slideOverLeft",backIn:"slideOverRight",backOut:"slideOverRight",addClass:"",reslideClass:"",speed:600},effect.jqSlideOverY={type:"jq",forwardIn:"slideOverBottom",forwardOut:"slideOverBottom",backIn:"slideOverTop",backOut:"slideOverTop",addClass:"",reslideClass:"",speed:600},effect.jqFader={type:"jq",forwardIn:"fadeIn",forwardOut:"fadeIn",backIn:"fadeIn",backOut:"fadeIn",addClass:"",reslideClass:"",speed:600},effect.moveH={forwardIn:"ef-moveFromRight",forwardOut:"ef-moveToLeft",backIn:"ef-moveFromLeft",backOut:"ef-moveToRight",addClass:"",removeClass:"",speed:600},effect.moveV={forwardIn:"ef-moveFromTop",forwardOut:"ef-moveToBottom",backIn:"ef-moveFromBottom",backOut:"ef-moveToTop",addClass:"",removeClass:""},effect.moveOverH={forwardIn:"ef-moveFromRight",forwardOut:"",backIn:"ef-moveFromLeft",backOut:"",addClass:"",removeClass:"",speed:700},effect.moveOverV={forwardIn:"ef-moveFromTop",forwardOut:"",backIn:"ef-moveFromBottom",backOut:"",addClass:"",removeClass:"",speed:700},effect.glueH={forwardIn:"ef-moveFromRight",forwardOut:"ef-rotateRightSideFirst",backIn:"ef-moveFromLeft",backOut:"ef-rotateLeftSideFirst",addClass:"",removeClass:"",speed:700,inDelay:200},effect.glueV={forwardIn:"ef-moveFromTop",forwardOut:"ef-rotateTopSideFirst",backIn:"ef-moveFromBottom",backOut:"ef-rotateBottomSideFirst",addClass:"",removeClass:"",speed:700,inDelay:200},effect.cubeV={forwardIn:"ef-rotateUnfoldTop",forwardOut:"ef-rotateFoldBottom",backIn:"ef-rotateUnfoldBottom",backOut:"ef-rotateFoldTop",addClass:"",removeClass:"",speed:700},effect.cubeH={forwardIn:"ef-rotateUnfoldRight",forwardOut:"ef-rotateFoldLeft",backIn:"ef-rotateUnfoldLeft",backOut:"ef-rotateFoldRight",addClass:"",removeClass:"",speed:700},effect.expandCubeH={forwardIn:"ef-rotateCubeLeftIn",forwardOut:"ef-rotateCubeLeftOut",backIn:"ef-rotateCubeRightIn",backOut:"ef-rotateCubeRightOut",addClass:"",removeClass:"",speed:600},effect.expandCubeV={forwardIn:"ef-rotateCubeBottomIn",forwardOut:"ef-rotateCubeBottomOut",backIn:"ef-rotateCubeTopIn",backOut:"ef-rotateCubeTopOut",addClass:"",removeClass:"",speed:500},effect.roomV={forwardIn:"ef-rotateRoomBottomIn",forwardOut:"ef-rotateRoomBottomOut",backIn:"ef-rotateRoomTopIn",backOut:"ef-rotateRoomTopOut",addClass:"",removeClass:""},effect.roomH={forwardIn:"ef-rotateRoomLeftIn",forwardOut:"ef-rotateRoomLeftOut",backIn:"ef-rotateRoomRightIn",backOut:"ef-rotateRoomRightOut",addClass:"",removeClass:""},effect.carouselV={forwardIn:"ef-rotateCarouselBottomIn",forwardOut:"ef-rotateCarouselBottomOut",backIn:"ef-rotateCarouselTopIn",backOut:"ef-rotateCarouselTopOut",addClass:"",removeClass:""},effect.carouselH={forwardIn:"ef-rotateCarouselLeftIn",forwardOut:"ef-rotateCarouselLeftOut",backIn:"ef-rotateCarouselRightIn",backOut:"ef-rotateCarouselRightOut",addClass:"",removeClass:""},effect.flipH={forwardIn:"ef-flipInLeft",forwardOut:"ef-flipOutRight",backIn:"ef-flipInRight",backOut:"ef-flipOutLeft",addClass:"",removeClass:"",speed:600,inDelay:600},effect.flipV={forwardIn:"ef-flipInTop",forwardOut:"ef-flipOutBottom",backIn:"ef-flipInBottom",backOut:"ef-flipOutTop",addClass:"",removeClass:"",speed:600,inDelay:600},effect.pushH={forwardIn:"ef-moveFromRight",forwardOut:"ef-rotatePushLeft",backIn:"ef-moveFromLeft",backOut:"ef-rotatePushRight",addClass:"",removeClass:"",speed:700},effect.pushV={forwardIn:"ef-moveFromTop",forwardOut:"ef-rotatePushBottom",backIn:"ef-moveFromBottom",backOut:"ef-rotatePushTop",addClass:"",removeClass:"",speed:700},effect.swingH={forwardIn:"ef-rotatePullRight",forwardOut:"",backIn:"ef-rotatePullLeft",backOut:"",addClass:"",removeClass:"",speed:700},effect.swingV={forwardIn:"ef-rotatePullTop",forwardOut:"",backIn:"ef-rotatePullBottom",backOut:"",addClass:"",removeClass:"",speed:700},effect.swingPushH={forwardIn:"ef-rotatePullRight",forwardOut:"ef-rotatePushLeft",backIn:"ef-rotatePullLeft",backOut:"ef-rotatePushRight",addClass:"",removeClass:"",speed:700},effect.swingPushV={forwardIn:"ef-rotatePullTop",forwardOut:"ef-rotatePushBottom",backIn:"ef-rotatePullBottom",backOut:"ef-rotatePushTop",addClass:"",removeClass:"",speed:700},effect.scaleIn={forwardIn:"ef-scaleUpCenter",forwardOut:"ef-fadeOut",backIn:"ef-scaleUpCenter",backOut:"ef-fadeOut",addClass:"",removeClass:"",speed:400},effect.scaleOut={forwardIn:"",forwardOut:"ef-scaleDownCenter ps-top",backIn:"",backOut:"ef-scaleDownCenter ps-top",addClass:"",removeClass:"",speed:400},effect.newsPaper={forwardIn:"ef-rotateInNewspaper",forwardOut:"",backIn:"ef-rotateInNewspaper",backOut:"",addClass:"",removeClass:"",speed:500},effect.fader={forwardIn:"ef-fadeIn",forwardOut:"ef-fadeOut",backIn:"ef-fadeIn",backOut:"ef-fadeOut",addClass:"",removeClass:"",speed:700},effect.retreat={forwardIn:"ef-rotateSlideIn",forwardOut:"ef-rotateSlideOut",backIn:"ef-rotateSlideInRight",backOut:"ef-rotateSlideOutRight",addClass:"",removeClass:"",speed:700},effect.shuffleH={forwardIn:"ef-moveFromRight",forwardOut:"ef-scaleDown",backIn:"ef-moveFromLeft",backOut:"ef-scaleDown",addClass:"",removeClass:"",speed:700},effect.shuffleV={forwardIn:"ef-moveFromBottom",forwardOut:"ef-scaleDown",backIn:"ef-moveFromBottom",backOut:"ef-scaleDown",addClass:"",removeClass:"",speed:700},effect.unshuffleV={forwardIn:"ef-scaleUp",forwardOut:"ef-moveToBottom ps-top",backIn:"ef-scaleUp",backOut:"ef-moveToBottom ps-top",addClass:"",removeClass:"",speed:700},effect.unshuffleH={forwardIn:"ef-scaleUp",forwardOut:"ef-moveToLeft ps-top",backIn:"ef-scaleUp",backOut:"ef-moveToRight ps-top",addClass:"",removeClass:"",speed:700},effect.fall={forwardIn:"",forwardOut:"ef-rotateFallLeft ps-top",backIn:"no-effect",backOut:"ef-rotateFallRight ps-top",addClass:"",removeClass:"",speed:700},function(e){var t={polyNS:"ps-",userNS:"poly-",responsive:!0,mode:"default",speed:700,delay:0,autoPlay:!1,autoDelay:6e3,activeIndex:0,showLoader:!0,slideLoader:!1,centerBg:!0,width:"100%",height:"ratio",aspect:"640x350",fullScreen:!1,expanded:!1,setFont:!1,fontSizeMode:"h",effectSet:["cubeH","cubeV"],defaultEffect:"fader",useEffectSpeed:!0,pauseOnHover:!0,playBtn:!1,expandBtn:!1,nav:!0,navNextTpl:"",navPrevTpl:"",pager:!0,pagerThumbs:!1,pagerItemTpl:"<span class='thumb-cont'><span class='thumb' style='background:{{thumbBg}} url({{thumb}}) center 0 no-repeat; background-size:cover'></span></span><span class='bullet'></span>",flipDir:!0,keyNav:!0,keyNext:39,keyPrev:37,swipeNav:!0,onLoad:function(){},onBeforeSlide:function(){},onAfterSlide:function(){},onBeforeAnim:function(){},onAfterAnim:function(){},onBeforeReload:function(){},onBgsLoad:function(){},removeClass:"",addClass:"",fallbackAnim:"jqSlideOverX",browserSupport:{firefox:31,ie:11,chrome:31,safari:7,opera:30}};e.fn.polySlider=function(a){function o(o){W.ready=!1,W.isWorking=!1,document.body.style.overflow="hidden",W.screenW=e(window).width(),W.screenH=e(window).height(),document.body.style.overflow="",W.activeIndex=W.lastIndex||0,W.options={},W.options=a instanceof Array?getScreenOptions(t,a,W.screenW):jQuery.extend({},t,a),o&&(W.options=jQuery.extend({},W.options,o)),W.browserMinV=W.options.browserSupport[W.browser.name.toLowerCase()],W.degraded=W.browser.version<W.browserMinV,W.options.destroy?(W.destroyed=!0,W.ready=!0):n()}function n(){W.initCount+=1,W.activeIndex=W.options.activeIndex?W.options.activeIndex:0,W.activeIndex=W.lastIndex?W.lastIndex:W.activeIndex,W.pc={},W.pc.parent=W.options.polyNS+"slider",W.pc.container=W.options.polyNS+"container",W.pc.viewport=W.options.polyNS+"viewport",W.pc.slides=W.options.polyNS+"slides",W.pc.slide=W.options.polyNS+"slide",W.pc.slideClone=W.options.polyNS+"slide-clone",W.pc.slice=W.options.polyNS+"slice",W.pc.sliceClone=W.options.polyNS+"slice-clone",W.pc.layer=W.options.polyNS+"layer",W.pc.nav=W.options.polyNS+"nav",W.pc.navNext=W.options.polyNS+"nav-next",W.pc.navPrev=W.options.polyNS+"nav-prev",W.pc.pager=W.options.polyNS+"pager",W.pc.pagerItem=W.options.polyNS+"pager-item",W.pc.notReady=W.options.polyNS+"not-ready",W.pc.slideBg=W.options.polyNS+"bg",W.pc.ready=W.options.polyNS+"is-ready",W.pc.sliding=W.options.polyNS+"is-sliding",W.pc.sliden=W.options.polyNS+"has-sliden",W.pc.animating=W.options.polyNS+"is-animating",W.pc.animated=W.options.polyNS+"has-animated",W.pc.active=W.options.polyNS+"active",W.pc.fscreen=W.options.polyNS+"full-screen",W.pc.inactive=W.options.polyNS+"inactive",W.pc.incoming=W.options.polyNS+"incoming",W.pc.noFlow=W.options.polyNS+"no-flow",W.pc.noBg=W.options.polyNS+"no-bg",W.pc.playBtn=W.options.polyNS+"btn-play",W.pc.expandBtn=W.options.polyNS+"btn-expand",W.pc.slideLoader=W.options.polyNS+"slide-loader",W.pc.loader=W.options.polyNS+"loader",W.pc.clearBg=W.options.polyNS+"clear-bg",W.pc.bgHolder=W.options.polyNS+"bg-holder",W.uc={};for(var t in W.pc)W.uc[t]=W.pc[t].replace(W.options.polyNS,W.options.userNS);if(W.options.aspectRatio=L(),W.options.fullScreen)W.options.width=W.screenW,W.options.height=W.screenH;else{var a=T();W.options.width=a.width,W.options.height=a.height}switch(W.options.expanded&&(W.expanded=!0,W.options.width=W.screenW,W.options.height=W.screenH),W.options.removeClass&&q.removeClass(W.options.removeClass),W.options.addClass&&q.addClass(W.options.addClass),q.addClass(B("parent")),q.wrapInner("<div class='"+B("container")+"'><div class='"+B("slides")+"'>"),W.container=q.find("."+W.uc.container),W.container.append("<div class='"+B("bgHolder")+"' style='position:absolute;overflow:hidden; height:0'></div>"),W.slidesCont=q.find("."+W.uc.slides),W.bgHolder=q.find("."+W.uc.bgHolder),e(W.slidesCont).wrap("<div class='"+B("viewport")+"'>"),W.viewport=q.find("."+W.uc.viewport),W.viewport.css({width:W.options.width,height:W.options.height}),W.options.showLoader&&(W.viewport.append("<div class='"+B("loader")+"'></div>"),W.loader=W.viewport.find("."+W.uc.loader)),W.slides=W.slidesCont.children(),W.total=W.slides.length,(W.options.fullScreen||W.options.expanded)&&(W.container.addClass(W.pc.fscreen),e("body").addClass(W.pc.noFlow)),W.expanded=W.options.expanded,W.options.setFont&&(W.fontSize=N(),W.container.css({"font-size":W.fontSize})),w(),W.bgs=W.bgHolder.find("img"),W.bgsTotal=W.bgs.length,W.bgsLoaded=0,W.bgs.each(function(){this.complete?s(this):e(this).load(function(){s(this)})}),W.options.mode){case"default":k();break;case"carousel":}W.options.nav&&g(),W.options.pager&&l(),W.options.keyNav&&v(),W.options.swipeNav&&u(),W.options.playBtn&&i(),W.options.autoPlay&&d(),W.options.expandBtn&&c(),W.activeSlide=W.slides.eq(W.activeIndex),W.activeSlide.addClass(W.pc.active).removeClass(W.pc.inactive),y(W.slides[W.activeIndex]),W.bgsLoaded==W.bgsTotal&&W.options.showLoader&&W.loader.fadeOut(),W.ready=!0,W.destroyed=!1,W.options.onLoad()}function s(t){W.bgsLoaded+=1;var a=t||this;$img=e(a);var o=W.slides.eq(parseInt($img.data("index"))),n=o[0];n.bgImageW=$img.width(),n.bgImageH=$img.height(),n.bgCoverSize=coverImage(n.bgImageW,n.bgImageH,W.options.width,W.options.height),n.bgSizeVal=n.bgCoverSize.w+"px "+n.bgCoverSize.h+"px",o.css(W.options.centerBg?{background:"url("+n.bgImage+") -"+n.bgCoverSize.cVal+"px 0 no-repeat","background-size":n.bgCoverSize.cW+"px "+n.bgCoverSize.cH+"px"}:{background:"url("+n.bgImage+") 0 0 no-repeat","background-size":n.bgCoverSize.w+"px "+n.bgCoverSize.h+"px"}),W.options.slideLoader&&n.loader.fadeOut(),W.bgsLoaded==W.bgsTotal&&(W.options.loader&&W.loader.fadeOut(),W.options.onBgsLoad())}function i(){W.playBtnCode="<a href='#' class='"+B("playBtn")+"'></a>",W.container.append(W.playBtnCode),W.playBtn=q.find("."+W.uc.playBtn),W.paused=!W.options.autoPlay,W.paused&&W.playBtn.addClass("paused"),q.on("click","."+W.uc.playBtn,r)}function r(e){e.preventDefault(),W.playBtn.hasClass("paused")?W.play():W.stop()}function d(){W.autoPlaying=!0,V.push(setInterval(function(){W.paused||W.tempPause||W.goForward()},W.options.autoDelay)),W.options.pauseOnHover&&q.hover(function(){W.tempPause=!0},function(){W.tempPause=!1})}function c(){W.expandBtnCode="<a href='#' class='"+B("expandBtn")+"'></a>",W.container.append(W.expandBtnCode),W.expandBtn=q.find("."+W.uc.expandBtn),W.expanded&&W.expandBtn.addClass("expanded"),q.on("click","."+W.uc.expandBtn,f)}function f(e){e.preventDefault(),W.expanded?W.contract():W.expand()}function l(){if(W.options.pager){if(!W.options.customPager){W.pagerCode=W.options.pagerThumbs?"<div class='"+B("pager")+"'><div class='cont'>":"<div class='no-thumbs "+B("pager")+"'>";for(var t=0;t<W.total;t++)W.pagerCode+="<a href='#' data-index='"+t+"' class='"+B("pagerItem")+"'>",W.pagerCode+=I(W.options.pagerItemTpl,W.slides.eq(t).data()),W.pagerCode+="</a>";W.pagerCode+="</div></div>",W.container.append(W.pagerCode)}W.pager=q.find("."+W.uc.pager),p(W.activeIndex),W.pager.find("."+W.pc.pagerItem).click(function(t){t.preventDefault(),W.goToSlide(e(this).data("index"))})}}function p(e){W.options.pager&&W.pager.find("[data-index='"+e+"']").addClass("active").siblings().removeClass("active")}function u(){var e={swipeleft:W.goForward,swiperight:W.goBack,swipeup:W.goBack,swipedown:W.goForward},t=q[0],a=new Hammer(t,{threshold:5,velocity:.3});a.on("swipeleft swiperight swipeup swipedown",function(t){W.isWorking||e[t.type]()})}function v(){q.bind("keyup",m)}function m(e){e.keyCode===W.options.keyPrev&&(W.isWorking||W.goBack()),e.keyCode===W.options.keyNext&&(W.isWorking||W.goForward())}function g(){W.options.nav&&(W.navCode=W.options.navThumbs?"<div class='"+B("nav")+"'>":"<div class='no-thumbs "+B("nav")+"'>",W.navCode+="<a href='#' class='"+B("navNext")+"'>"+W.options.navNextTpl+"</a>",W.navCode+="<a href='#' class='"+B("navPrev")+"'>"+W.options.navPrevTpl+"</a></div>",W.nav=q.find("."+W.uc.nav),W.options.nextSel||(W.container.append(W.navCode),W.navNext=q.find("."+W.uc.navNext),W.navPrev=q.find("."+W.uc.navPrev)),W.options.nextSel&&(W.navNext=e(W.options.nextSel)),W.options.prevSel&&(W.navPrev=e(W.options.prevSel)),W.navNext.on("click",h),W.navPrev.on("click",C))}function h(e){e.preventDefault(),W.isWorking||W.goForward()}function C(e){e.preventDefault(),W.isWorking||W.goBack()}function I(e,t){var a=e;for(var o in t){var n=t[o],s="{{"+o+"}}";a=a.replace(s,n)}return a}function w(){W.slides.each(function(t){var a=e(this),o=this;if(o.bgImage=null,o.thumb=null,a.data("thumb",""),o.loader=null,o.classVal=a.attr("class")||"",o.styleVal=a.attr("style")||"",a.addClass(B("slide")),a.attr("data-index",t),o.bgColor=a.css("background-color"),a.data("thumbBg",o.bgColor),o.bgEls=a.find("."+W.uc.slideBg),o.bgEls.length>0){var n=[];o.bgEls.each(function(){var t=this,a=e(t);a.addClass(W.pc.slideBg),n.push("{screen:'"+a.data("screen")+"', bg:'"+a.attr("src")+"'}")});var s="["+n.join(",")+"]",i=jsonify(s);o.bgOpts=getScreenOptions({},i,W.screenW),o.bgOpts.bg&&(o.bgImage=o.bgOpts.bg,o.thumb=o.bgImage,a.data("thumb",o.bgImage),W.bgHolder.append("<img src='"+o.bgImage+"' data-index='"+t+"' alt='' />"),o.bgEl=W.bgHolder.find("[data-index="+t+"]"),W.options.slideLoader&&(a.append("<div class='"+B("slideLoader")+"'></div>"),o.loader=a.find("."+W.uc.slideLoader)))}if(a.data("effect")){for(var r=a.data("effect").split(","),d=[],c=0;c<r.length;c++){var f=r[c],l=f.match(/\w+/),p=f.match(/\[(.*)\]/);if(p){var u="{screen:'"+p[1]+"', name:'"+l+"'}",v=jsonify(u);d.push(v)}}if(d.length>0){var m=getScreenOptions({},d,W.screenW);o.effect=m.name}else o.effect=a.data("effect")}o.layers=a.find("."+W.uc.layer);var g=[],h=[];o.layers.each(function(){var t=this,a=e(this);a.addClass(W.pc.layer).css({"animation-fill-mode":"both"});var o=b(a,"anim-in"),n=b(a,"anim-out");o&&(g.push(o.delay+o.dur),t.animIn=o),n&&(h.push(n.delay+n.dur),t.animOut=n)}),o.layerAnimsInDur=0,o.layerAnimsOutDur=0,g[0]&&(o.layerAnimsInDur=Math.max.apply(Math,g)),h[0]&&(o.layerAnimsOutDur=Math.max.apply(Math,h))})}function b(e,t){var a,o=e.data(t);if(o){var n=o.match(/^[\w]+/),s=o.match(/\[(\d+)[,\s]+(\d+)\]/);n&&s&&(a={},a.name=n[0],a.delay=parseInt(s[1]),a.dur=parseInt(s[2]))}return a}function y(t){W.isAnimating=!0,W.container.addClass(W.pc.animating).removeClass(W.pc.animated),$slide=e(t),t.layers.each(function(){var t=this;t.animOut&&e(this).removeClass(t.animOut.name),t.animIn&&e(this).addClass(t.animIn.name+" animated").css({"animation-duration":t.animIn.dur+"ms","animation-delay":t.animIn.delay+"ms"})}),A.push(setTimeout(function(){W.container.removeClass(W.pc.animating).addClass(W.pc.animated),W.isAnimating=!1},t.layerAnimsInDur))}function x(t){W.container.addClass(W.pc.animating).removeClass(W.pc.animated),$slide=e(t),t.layers.each(function(){var t=this;t.animIn&&e(this).removeClass(t.animIn.name),t.animOut&&e(this).addClass(t.animOut.name+" animated").css({"animation-duration":t.animOut.dur+"ms","animation-delay":t.animOut.delay+"ms"})}),A.push(setTimeout(function(){W.container.removeClass(W.pc.animating).addClass(W.pc.animated)},t.layerAnimsOutDur))}function O(t){t.layers.each(function(){var t=this;e(this).removeClass("animated"),t.animIn&&e(this).removeClass(t.animIn.name),t.animOut&&e(this).addClass(t.animOut.name)})}function S(e){var t,a;return e?a=e:W.options.effect?a=W.options.effect:W.nextSlide.data("effect")?a=W.nextSlide[0].effect:W.options.effectSet&&(a=W.options.effectSet[W.effectSetIndex]),W.degraded&&(a=W.options.fallbackAnim),t=effect[a],t||(alert("PolySlider Error: [effect."+a+"] was not found! Check your arguments."),t=effect[W.options.defaultEffect]),t.type=t.type||"",t}function k(){W.effectSetIndex=0,W.effectSetTotal=W.options.effectSet.length,W.goToSlide=function(e,t){function a(){A.push(setTimeout(function(){W.container.addClass(W.pc.sliden).removeClass(W.pc.sliding),W.nextSlide.removeClass(W.effectIn+" "+W.pc.incoming).addClass(W.pc.active).css({"animation-delay":"","animation-duration":""}),W.activeSlide.removeClass(W.pc.active+" "+W.effectOut).addClass(W.pc.inactive).css({"animation-delay":"","animation-duration":""}),W.viewport.addClass(W.effect.removeClass),W.viewport.removeClass(W.effect.addClass),W.nextSlide.css({left:0,top:0,opacity:1}),W.activeSlide.css({left:0,top:0,opacity:1}),W.prevIndex=W.activeIndex,W.activeIndex=W.nextIndex,W.activeSlide=W.slides.eq(W.activeIndex),W.prevSlide=W.slides.eq(W.prevIndex),W.futureNextIndex=cycleForward(W.activeIndex,W.total),W.futurePrevIndex=cycleBack(W.activeIndex,W.total),W.futureNextSlide=W.slides.eq(W.futureNextIndex),W.futurePrevSlide=W.slides.eq(W.futurePrevIndex),W.effectSetIndex=W.nextEffectIndex,W.options.onAfterSlide(W.activeIndex),O(W.slides[W.prevIndex]),y(W.slides[W.activeIndex]),W.isWorking=!1},W.effectDur))}if(!W.isWorking){if(W.isWorking=!0,"forward"==e)W.direction="forward",W.nextIndex=cycleForward(W.activeIndex,W.total),W.nextSlide=W.slides.eq(W.nextIndex),W.nextEffectIndex=cycleForward(W.effectSetIndex,W.effectSetTotal),W.effect=S(t),W.effectIn=W.effect.forwardIn,W.effectOut=W.effect.forwardOut;else if("back"==e)W.direction="back",W.nextIndex=cycleBack(W.activeIndex,W.total),W.nextSlide=W.slides.eq(W.nextIndex),W.nextEffectIndex=cycleBack(W.effectSetIndex,W.effectSetTotal),W.effect=S(t),W.effectIn=W.effect.backIn,W.effectOut=W.effect.backOut;else{if(isNaN(e))return void(W.isWorking=!1);if(e==W.activeIndex)return void(W.isWorking=!1);W.nextIndex=F(e,W.total),W.nextSlide=W.slides.eq(W.nextIndex),W.nextEffectIndex=cycleForward(W.effectSetIndex,W.effectSetTotal),W.direction=W.options.flipDir?W.nextIndex>W.activeIndex?"forward":"back":"forward",W.effect=S(t),W.effectIn=W.effect[W.direction+"In"],W.effectOut=W.effect[W.direction+"Out"]}W.activeSlide=W.slides.eq(W.activeIndex),W.nextSlide=W.slides.eq(W.nextIndex),W.effectSpeed=W.options.speed,W.options.onBeforeSlide(W.nextIndex),W.slides[W.activeIndex].layerAnimsOutDur>0?(x(W.slides[W.activeIndex]),W.activeDelay=W.options.delay+W.slides[W.activeIndex].layerAnimsOutDur):W.activeDelay=W.options.delay,W.effectSpeed=W.options.useEffectSpeed&&W.effect.speed?W.effect.speed:W.options.speed,W.effectDur=W.effectSpeed,W.effect.inSpeed=W.effect.inSpeed||W.effectSpeed,W.effect.outSpeed=W.effect.outSpeed||W.effectSpeed,W.effect.inDelay&&(W.effectDur+=W.effect.inDelay),W.effect.outDelay&&(W.effectDur+=W.effect.outDelay),W.effect.sliced&&(W.sliceEffectDur=W.effect.sliceDelay*(W.nextSlide[0].totalSlices-1)+W.effect.sliceDur,W.effectDur=W.sliceEffectDur),A.push(setTimeout(function(){W.container.addClass(W.pc.sliding).removeClass(W.pc.sliden),"jq"==W.effect.type?(jqAnim[W.effectIn](W.activeSlide,W.nextSlide,W.effectDur,W.pc),W.viewport.addClass(W.effect.addClass),W.viewport.removeClass(W.effect.removeClass)):(W.nextSlide.removeClass(W.pc.inactive).addClass(W.pc.incoming+" "+W.effectIn).css({"animation-duration":W.effect.inSpeed+"ms","animation-delay":W.effect.inDelay+"ms"}),W.activeSlide.addClass(W.effectOut).css({"animation-duration":W.effect.outSpeed+"ms","animation-delay":W.effect.outDelay+"ms"}),W.viewport.addClass(W.effect.addClass),W.viewport.removeClass(W.effect.removeClass)),p(W.nextIndex),a()},W.activeDelay))}},W.goForward=function(e){W.goToSlide("forward",e)},W.goBack=function(e){W.goToSlide("back",e)}}function B(e){return W.pc[e]+" "+W.uc[e]}function N(){switch(W.options.fontSizeMode){case"h":return W.options.height;case"w":return W.options.width;default:return W.options.height}}function T(){return{width:R(W.options.width),height:D(W.options.height)}}function F(e,t){var a=e;return a>=t?a=t-1:0>a&&(a=0),a}function R(e){var t;if(e)if(isNaN(e))if(stringHas(e,"%")){var a=parseInt(e.replace("%",""));t=a*q.width()/100}else"screen"==e?t=W.screenW:"auto"==e?t=q.children().first().width():"ratio"==e&&(t=H(D(W.options.height)));else t=e;return t}function D(e){var t;if(e)if(isNaN(e))if(stringHas(e,"%")){var a=parseInt(e.replace("%",""));t=a*q.height()/100}else"screen"==e?t=W.screenH:"auto"==e?t=q.children().first().height():"ratio"==e&&(t=P(R(W.options.width)));else t=e;return t}function L(){var e={};if(W.options.aspect)return"auto"==W.options.aspect?(e.width=q.children().first().children().first().width(),e.height=q.children().first().children().first().height()):stringHas(W.options.aspect,"x")&&(e.width=parseInt(W.options.aspect.split("x")[0]),e.height=parseInt(W.options.aspect.split("x")[1])),e}function P(e){var t=W.options.aspectRatio.height*e/W.options.aspectRatio.width;return t}function H(e){var t=W.options.aspectRatio.width*e/W.options.aspectRatio.height;return t}function j(){z&&clearTimeout(z),z=setTimeout(function(){W.options.responsive&&W.reload()},100)}if(0==this.length)return this;this.length>1&&this.each(function(){e(this).polySlider(a)});var q=e(this),W={};W.el=q;var A=[],V=[];W.initCount=0,W.innerClone=q.html(),W.classVal=q.attr("class"),W.pause=!1,W.browser=getBrowser(),W.degraded=!1,W.play=function(){W.paused=!1,W.playBtn&&W.playBtn.removeClass("paused"),W.autoPlaying||d()},W.stop=function(){W.paused=!0,W.playBtn&&W.playBtn.addClass("paused")},W.destroy=function(){if(!W.destroyed){W.slidesGroup=q.find("."+W.uc.slide),W.slidesCont.find("."+W.uc.slideClone).remove(),W.slides.each(function(){var t=this,a=e(this);a.removeClass(),a.addClass(t.classVal),a.attr("style",t.styleVal)}),W.container.find("> *").not("."+W.uc.viewport).remove(),W.viewport.find("> *").not("."+W.uc.slides).remove(),W.slidesGroup.unwrap().unwrap().unwrap(),q.removeClass(),q.addClass(W.classVal),q.off();for(var t=0;t<A.length;t++)clearTimeout(A[t]);for(var t=0;t<V.length;t++)clearInterval(V[t]);W.options.fullScreen&&e("body").removeClass(W.pc.noFlow),W.destroyed=!0}},W.rescale=function(e,t){W.ready&&e&&t&&(W.container.css({width:e,height:t}),W.viewport.css({width:e,height:t}))},W.expand=function(){W.reload({expanded:!0}),W.container.addClass(W.pc.fscreen),e("body").addClass(W.pc.noFlow),W.expanded=!0,W.expandBtn&&W.expandBtn.addClass("expanded")},W.contract=function(){W.reload({expanded:!1}),e("body").removeClass(W.pc.noFlow),W.container.removeClass(W.pc.fscreen),W.expanded=!1,W.expandBtn&&W.expandBtn.removeClass("expanded")},W.futureNext=function(){return cycleForward(W.activeIndex,W.total)},W.futurePrev=function(){return cycleBack(W.activeIndex,W.total)},W.reload=function(e){W.ready&&(W.options.onBeforeReload(),W.destroy(),W.lastIndex=W.activeIndex,o(e))},e(window).bind("resize",j);var z;return o(),W}}(jQuery),$().ready(function(){$("[data-ps]").each(function(){var e={},t=$(this);e=jsonify(t.data("ps")),t.polySlider(e)})});