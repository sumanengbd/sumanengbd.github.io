document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("pname");e.addEventListener("input",(()=>{const t=e.value.trim(),n=(new Date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});document.title=t?`${t} এর ছাড়পত্র - ${n}`:"রোগীর ছাড়পত্র"}))})),$(document).ready((function(){var e,t;function n(e){const t={0:"০",1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯"};return e.replace(/\d/g,(function(e){return t[e]}))}document.getElementById("print").addEventListener("click",(function(){window.print()})),$((function(){$(".list").sortable({placeholder:"ui-state-highlight"}),$(".addnew").click((function(){var e=$(this).data("target"),t=$(e),n=`<li class="ui-state-default"><input type="text" placeholder="নতুন তালিকা ${t.find("li").length+1}"><button class="remove">✖</button></li>`;t.append(n)})),$(document).on("click",".remove",(function(){$(this).parent().remove()}))})),e=new Date,t=String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0"),document.getElementById("current_time").value=t,$.datepicker.regional.bn={closeText:"বন্ধ",prevText:"আগে",nextText:"পরে",currentText:"আজ",monthNames:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"],monthNamesShort:["জানু","ফেব্রু","মার্চ","এপ্রি","মে","জুন","জুল","আগ","সেপ","অক","নভে","ডিসে"],dayNames:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহস্পতিবার","শুক্রবার","শনিবার"],dayNamesShort:["রবি","সোম","মঙ্গল","বুধ","বৃহ","শুক্র","শনি"],dayNamesMin:["রবি","সোম","মঙ্গল","বুধ","বৃহ","শুক্র","শনি"],weekHeader:"হপ্তা",dateFormat:"dd MM, yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.bn),$(".datepicker").datepicker({isRTL:!1,changeYear:!0,changeMonth:!0,dateFormat:"dd MM, yy",onSelect:function(e){$(this).val(n(e))}});var o=$.datepicker.formatDate("dd MM, yy",new Date);$(".datepicker").val(n(o)),$(document).ready((function(){let e=[];Papa.parse("images/medicine.csv",{download:!0,header:!0,complete:function(t){t.data.forEach((function(t){if(t.Name&&t.Strength){const n=new Option(`${t.Name} - ${t.Strength}`,`${t.Name} - ${t.Strength}`,!1,!1);e.push(n)}})),$(".select2").select2({allowClear:!1}),$(".medicine-select").each((function(){const t=$(this);e.forEach((e=>t.append(e.cloneNode(!0)))),t.select2({placeholder:"Select a medicine",allowClear:!0})}))}}),$(".addnew_rx").click((function(){!function(t){var n=$(t);n.append('\n                <li class="rxcard_list--item">\n                    <div class="select_option d-flex">\n                        <select name="type" class="select2 brand-select">\n                            <option value="">Tab.</option>\n                            <option value="">Cap.</option>\n                            <option value="">Syrp.</option>\n                            <option value="">Inj.</option>\n                            <option value="">Inf.</option>\n                        </select>\n\n                        <select class="select2 medicine-select" name="medicine"></select>\n                    </div>\n                    <ul class="select_option-wrap list-unstyled">\n                        <li>\n                            <div class="state-filter">\n                                <select name="">\n                                    <option value="">১ + ১ + ১</option>\n                                    <option value="">১ + ১ + ০</option>\n                                    <option value="">১ + ০ + ১</option>\n                                    <option value="">০ + ১ + ১</option>\n                                    <option value="">১ + ০ + ০</option>\n                                    <option value="">০ + ১ + ০</option>\n                                    <option value="">০ + ০ + ১</option>\n                                </select>\n                            </div>\n                        </li>\n                        <li>\n                            <div class="state-filter">\n                                <select name="">\n                                    <option value="">ভরা পেটে খাবেন</option>\n                                    <option value="">খালি পেতে খাবেন</option>\n                                    <option value="">খাবার আগে খাবেন</option>\n                                    <option value="">খাওয়ার পরে খাবেন</option>\n                                    <option value="">চুষে খাবেন</option>\n                                </select>\n                            </div>\n                        </li>\n                        <li><span contenteditable="true">৭ দিন</span></li>\n                    </ul>\n                    <button type="button" class="remove-item">✖</button>\n                </li>\n            ');const o=n.find("select.medicine-select").last();e.forEach((e=>o.append(e.cloneNode(!0)))),$(".select2").select2({allowClear:!1}),o.select2({width:"100%",placeholder:"Select an option",allowClear:!0}),n.find(".remove-item").last().click((function(){$(this).closest(".rxcard_list--item").remove()}))}($(this).data("target"))}))}))}));